!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-tooltip-directive",["exports","@angular/core","@angular/common"],o):o((t=t||self)["ngx-tooltip-directive"]={},t.ng.core,t.ng.common)}(this,(function(t,o,e){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(t,o,e,i){var n,s=arguments.length,r=s<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,o,e,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(r=(s<3?n(r):s>3?n(o,e,r):n(o,e))||r);return s>3&&r&&Object.defineProperty(o,e,r),r}function n(t,o){return function(e,i){o(e,i,t)}}function s(t){var o="function"==typeof Symbol&&Symbol.iterator,e=o&&t[o],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}var r=function(){function t(t,e){this.elementRef=t,this.renderer=e,this._show=!1,this.events=new o.EventEmitter}return t.prototype.transitionEnd=function(t){this.show&&this.events.emit({type:"shown"})},Object.defineProperty(t.prototype,"show",{get:function(){return this._show},set:function(t){t&&this.setPosition(),this._show=this.hostClassShow=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placement",{get:function(){return this.data.options.placement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoPlacement",{get:function(){return this.data.options.autoPlacement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.data.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementPosition",{get:function(){return this.data.elementPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.data.options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.data.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipOffset",{get:function(){return Number(this.data.options.offset)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isThemeLight",{get:function(){return"light"===this.options.theme},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.setCustomClass(),this.setStyles()},t.prototype.setPosition=function(){var t,o;if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{var e=void 0;try{for(var i=s(["top","right","bottom","left"]),n=i.next();!n.done;n=i.next()){var r=n.value;if(this.setHostStyle(r))return this.setPlacementClass(r),void(e=!0)}}catch(o){t={error:o}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}e||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}},t.prototype.setPlacementClass=function(t){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+t)},t.prototype.setHostStyle=function(t,o){void 0===o&&(o=!1);var e,i,n=this.element instanceof SVGElement,s=this.elementRef.nativeElement,r=!this.elementPosition.right,p=n?this.element.getBoundingClientRect().height:this.element.offsetHeight,l=n?this.element.getBoundingClientRect().width:this.element.offsetWidth,a=s.clientHeight,h=s.clientWidth,d=window.pageYOffset;if(r&&(p=0,l=0),"top"===t&&(e=this.elementPosition.top+d-(a+this.tooltipOffset)),"bottom"===t&&(e=this.elementPosition.top+d+p+this.tooltipOffset),"top"!==t&&"bottom"!==t||(i=this.elementPosition.left+l/2-h/2),"left"===t&&(i=this.elementPosition.left-h-this.tooltipOffset),"right"===t&&(i=this.elementPosition.left+l+this.tooltipOffset),"left"!==t&&"right"!==t||(e=this.elementPosition.top+d+p/2-s.clientHeight/2),this.autoPlacement&&!o){var u=e,c=e+a,y=i,f=i+h,m=window.innerHeight+d,g=document.body.clientWidth;if(u<0||c>m||y<0||f>g)return!1}return this.hostStyleTop=e+"px",this.hostStyleLeft=i+"px",!0},t.prototype.setZIndex=function(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)},t.prototype.setPointerEvents=function(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)},t.prototype.setCustomClass=function(){var t=this;this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach((function(o){t.renderer.addClass(t.elementRef.nativeElement,o)}))},t.prototype.setAnimationDuration=function(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")},t.prototype.setStyles=function(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth+"px",this.hostStyleWidth=this.options.width?this.options.width+"px":""},t.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2}]},i([o.Input()],t.prototype,"data",void 0),i([o.HostBinding("style.top")],t.prototype,"hostStyleTop",void 0),i([o.HostBinding("style.left")],t.prototype,"hostStyleLeft",void 0),i([o.HostBinding("style.z-index")],t.prototype,"hostStyleZIndex",void 0),i([o.HostBinding("style.transition")],t.prototype,"hostStyleTransition",void 0),i([o.HostBinding("style.width")],t.prototype,"hostStyleWidth",void 0),i([o.HostBinding("style.max-width")],t.prototype,"hostStyleMaxWidth",void 0),i([o.HostBinding("style.pointer-events")],t.prototype,"hostStylePointerEvents",void 0),i([o.HostBinding("class.tooltip-show")],t.prototype,"hostClassShow",void 0),i([o.HostBinding("class.tooltip-shadow")],t.prototype,"hostClassShadow",void 0),i([o.HostBinding("class.tooltip-light")],t.prototype,"hostClassLight",void 0),i([o.HostListener("transitionend",["$event"])],t.prototype,"transitionEnd",null),i([o.Input()],t.prototype,"show",null),t=i([o.Component({selector:"tooltip",template:'<div *ngIf="isThemeLight" class="tooltip-arrow"></div>\r\n\r\n<div *ngIf="options[\'contentType\'] === \'template\' else htmlOrStringTemplate">\r\n\r\n\t<ng-container *ngTemplateOutlet="value"></ng-container>\r\n</div>\r\n\r\n<ng-template #htmlOrStringTemplate>\r\n\t<div [innerHTML]="value"></div>\r\n</ng-template>\r\n',host:{class:"tooltip"},styles:[':host{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}:host.tooltip-show{opacity:1}:host.tooltip-shadow{box-shadow:0 7px 15px -5px rgba(0,0,0,.4)}:host.tooltip-light.tooltip-shadow{box-shadow:0 5px 15px -5px rgba(0,0,0,.4)}:host.tooltip::after{content:"";position:absolute;border-style:solid}:host.tooltip-top::after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 transparent transparent}:host.tooltip-bottom::after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:transparent transparent #000}:host.tooltip-left::after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:transparent transparent transparent #000}:host.tooltip-right::after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:transparent #000 transparent transparent}:host.tooltip-light::after{display:none}:host.tooltip-light{border:1px solid rgba(0,0,0,.06);background-color:#fff;color:#000}:host.tooltip-light .tooltip-arrow{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:rgba(0,0,0,.07)}:host.tooltip-light .tooltip-arrow::after{background-color:#fff;content:"";display:block;position:absolute;width:10px;height:10px}:host.tooltip-top.tooltip-light{margin-top:-2px}:host.tooltip-top.tooltip-light .tooltip-arrow{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-top.tooltip-light .tooltip-arrow::after{top:1px;right:1px}:host.tooltip-bottom.tooltip-light .tooltip-arrow{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,rgba(0,0,0,.1) 50%,transparent 50%)}:host.tooltip-bottom.tooltip-light .tooltip-arrow::after{top:-1px;right:-1px}:host.tooltip-left.tooltip-light .tooltip-arrow{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-left.tooltip-light .tooltip-arrow::after{top:1px;right:-1px}:host.tooltip-right.tooltip-light .tooltip-arrow{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-right.tooltip-light .tooltip-arrow::after{top:-1px;right:1px}']})],t)}(),p=new o.InjectionToken("TooltipOptions"),l={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},a={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"},h=function(){function t(t,e,i,n,s){this.initOptions=t,this.elementRef=e,this.componentFactoryResolver=i,this.appRef=n,this.injector=s,this._showDelay=0,this._hideDelay=300,this._options={},this.events=new o.EventEmitter}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){t&&l&&(this._options=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTooltipDestroyed",{get:function(){return this.componentRef&&this.componentRef.hostView.destroyed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyDelay",{get:function(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)},set:function(t){this._destroyDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this.options.position?this.options.position:this.elementPosition},enumerable:!0,configurable:!0}),t.prototype.onMouseEnter=function(){0!=this.isDisplayOnHover&&this.show()},t.prototype.onMouseLeave=function(){"hover"===this.options.trigger&&this.destroyTooltip()},t.prototype.onClick=function(){var t=this;0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout((function(){t.destroyTooltip()}),this.options.hideDelayAfterClick))},t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){this.initOptions=this.renameProperties(this.initOptions);var o=this.getProperties(t);o=this.renameProperties(o),this.applyOptionsDefault(l,o)},t.prototype.ngOnDestroy=function(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()},t.prototype.getShowDelay=function(){return this.options.showDelay},t.prototype.getHideDelay=function(){var t=this.options.hideDelay,o=this.options.hideDelayTouchscreen;return this.isTouchScreen?o:t},t.prototype.getProperties=function(t){var o={};for(var e in t)"options"!==e&&"tooltipValue"!==e&&(o[e]=t[e].currentValue),"options"===e&&(o=t[e].currentValue);return o},t.prototype.renameProperties=function(t){for(var o in t)a[o]&&(t[a[o]]=t[o],delete t[o]);return t},t.prototype.getElementPosition=function(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()},t.prototype.createTooltip=function(){var t=this;this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout((function(){t.appendComponentToBody(r)}),this.getShowDelay()),this.showTimeoutId=window.setTimeout((function(){t.showTooltipElem()}),this.getShowDelay())},t.prototype.destroyTooltip=function(t){var o=this;void 0===t&&(t={fast:!1}),this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout((function(){o.hideTooltip()}),t.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout((function(){o.componentRef&&!o.isTooltipDestroyed&&(o.appRef.detachView(o.componentRef.hostView),o.componentRef.destroy(),o.events.emit({type:"hidden",position:o.tooltipPosition}))}),t.fast?0:this.destroyDelay))},t.prototype.showTooltipElem=function(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})},t.prototype.hideTooltip=function(){this.componentRef&&!this.isTooltipDestroyed&&(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))},t.prototype.appendComponentToBody=function(t,o){var e=this;void 0===o&&(o={}),this.componentRef=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView);var i=this.componentRef.hostView.rootNodes[0];document.body.appendChild(i),this.componentSubscribe=this.componentRef.instance.events.subscribe((function(t){e.handleEvents(t)}))},t.prototype.clearTimeouts=function(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)},Object.defineProperty(t.prototype,"isDisplayOnHover",{get:function(){return 0!=this.options.display&&((0!=this.options.displayTouchscreen||!this.isTouchScreen)&&"hover"===this.options.trigger)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayOnClick",{get:function(){return 0!=this.options.display&&((0!=this.options.displayTouchscreen||!this.isTouchScreen)&&"click"==this.options.trigger)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouchScreen",{get:function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||function(t){return window.matchMedia(t).matches}(["(",t.join("touch-enabled),("),"heartz",")"].join(""))},enumerable:!0,configurable:!0}),t.prototype.applyOptionsDefault=function(t,o){this.options=Object.assign({},t,this.initOptions||{},o)},t.prototype.handleEvents=function(t){"shown"===t.type&&this.events.emit({type:"shown",position:this.tooltipPosition})},t.prototype.show=function(){!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem()},t.prototype.hide=function(){this.destroyTooltip()},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Optional},{type:o.Inject,args:[p]}]},{type:o.ElementRef},{type:o.ComponentFactoryResolver},{type:o.ApplicationRef},{type:o.Injector}]},i([o.Input("options")],t.prototype,"options",null),i([o.Input("tooltip")],t.prototype,"tooltipValue",void 0),i([o.Input("placement")],t.prototype,"placement",void 0),i([o.Input("autoPlacement")],t.prototype,"autoPlacement",void 0),i([o.Input("content-type")],t.prototype,"contentType",void 0),i([o.Input("hide-delay-mobile")],t.prototype,"hideDelayMobile",void 0),i([o.Input("hideDelayTouchscreen")],t.prototype,"hideDelayTouchscreen",void 0),i([o.Input("z-index")],t.prototype,"zIndex",void 0),i([o.Input("animation-duration")],t.prototype,"animationDuration",void 0),i([o.Input("trigger")],t.prototype,"trigger",void 0),i([o.Input("tooltip-class")],t.prototype,"tooltipClass",void 0),i([o.Input("display")],t.prototype,"display",void 0),i([o.Input("display-mobile")],t.prototype,"displayMobile",void 0),i([o.Input("displayTouchscreen")],t.prototype,"displayTouchscreen",void 0),i([o.Input("shadow")],t.prototype,"shadow",void 0),i([o.Input("theme")],t.prototype,"theme",void 0),i([o.Input("offset")],t.prototype,"offset",void 0),i([o.Input("width")],t.prototype,"width",void 0),i([o.Input("max-width")],t.prototype,"maxWidth",void 0),i([o.Input("id")],t.prototype,"id",void 0),i([o.Input("show-delay")],t.prototype,"showDelay",void 0),i([o.Input("hide-delay")],t.prototype,"hideDelay",void 0),i([o.Input("hideDelayAfterClick")],t.prototype,"hideDelayAfterClick",void 0),i([o.Input("pointerEvents")],t.prototype,"pointerEvents",void 0),i([o.Input("position")],t.prototype,"position",void 0),i([o.Output()],t.prototype,"events",void 0),i([o.HostListener("focusin"),o.HostListener("mouseenter")],t.prototype,"onMouseEnter",null),i([o.HostListener("focusout"),o.HostListener("mouseleave")],t.prototype,"onMouseLeave",null),i([o.HostListener("click")],t.prototype,"onClick",null),t=i([o.Directive({selector:"[tooltip]",exportAs:"tooltip"}),n(0,o.Optional()),n(0,o.Inject(p))],t)}(),d=function(){function t(){}var n;return n=t,t.forRoot=function(t){return{ngModule:n,providers:[{provide:p,useValue:t}]}},t=n=i([o.NgModule({declarations:[h,r],imports:[e.CommonModule],exports:[h],entryComponents:[r]})],t)}();t.TooltipComponent=r,t.TooltipDirective=h,t.TooltipModule=d,t.ɵa=p,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-tooltip-directive.umd.min.js.map